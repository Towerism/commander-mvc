

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Getting started &mdash; commander-mvc 1.0.2 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Reference" href="reference/index.html" />
    <link rel="prev" title="Introduction" href="intro.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> commander-mvc
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example-project">Example Project</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#view">View</a></li>
<li class="toctree-l3"><a class="reference internal" href="#service">Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="#controller">Controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pulling-it-together">Pulling it together</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reference/index.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">commander-mvc</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Getting started</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/getting-started.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="getting-started">
<h1>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Save the module to your application’s node dependencies.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ npm install --save commander-mvc
</pre></div>
</div>
</div>
<div class="section" id="example-project">
<h2>Example Project<a class="headerlink" href="#example-project" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This example will utilize Babel and ES2017. However you can just as
well use typescript for your own project. Since commander-mvc is written
in typescript you will not have to install separate type definitions.</p>
</div>
<p>For this example, we will create a simple hello world project. The commandline
interface (CLI) we will create will print “Hello, world!” as a default message,
but will print “Hello, &lt;name&gt;” if the user specifies a name instead of the
default ‘world.’</p>
<p>To get started, first create our project directory, and initialize it with npm.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ mkdir commander-mvc-hello
$ <span class="nb">cd</span> commander-mvc-hello
$ npm init -y
</pre></div>
</div>
<p>Then let’s install all our dependencies.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ npm install --save @babel/cli @babel/core @babel/plugin-proposal-decorators @babel/polyfill @babel/preset-env commander-mvc
</pre></div>
</div>
<p>Setup the <code class="docutils literal notranslate"><span class="pre">package.json</span></code> so that it looks like below. The important fields to note are <code class="docutils literal notranslate"><span class="pre">bin</span></code> and <code class="docutils literal notranslate"><span class="pre">script</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">examples/hello/package.json</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;commander-mvc-hello&quot;</span><span class="p">,</span>
  <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
<span class="hll">  <span class="s2">&quot;bin&quot;</span><span class="p">:</span> <span class="s2">&quot;dist/index.js&quot;</span><span class="p">,</span>
</span><span class="hll">  <span class="s2">&quot;scripts&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="hll">    <span class="s2">&quot;build&quot;</span><span class="p">:</span> <span class="s2">&quot;babel src -d dist&quot;</span>
</span><span class="hll">  <span class="p">},</span>
</span>  <span class="s2">&quot;license&quot;</span><span class="p">:</span> <span class="s2">&quot;MIT&quot;</span><span class="p">,</span>
  <span class="s2">&quot;dependencies&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;@babel/cli&quot;</span><span class="p">:</span> <span class="s2">&quot;^7.0.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;@babel/core&quot;</span><span class="p">:</span> <span class="s2">&quot;^7.0.1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;@babel/plugin-proposal-decorators&quot;</span><span class="p">:</span> <span class="s2">&quot;^7.0.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;@babel/polyfill&quot;</span><span class="p">:</span> <span class="s2">&quot;^7.0.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;@babel/preset-env&quot;</span><span class="p">:</span> <span class="s2">&quot;^7.0.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;commander-mvc&quot;</span><span class="p">:</span> <span class="s2">&quot;^1.3.1&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Some of these snippets (like the one above) are captioned with filenames such
that you can find them in the docs directory of the main <a class="reference external" href="https://github.com/commander-mvc/commander-mvc/tree/develop/docs/examples/hello">repository</a>.</p>
</div>
<p>Now, you will also need to add a <code class="docutils literal notranslate"><span class="pre">.babelrc</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">examples/hello/.babelrc</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;presets&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;@babel/preset-env&quot;</span><span class="p">],</span>
  <span class="s2">&quot;plugins&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">&quot;@babel/plugin-proposal-decorators&quot;</span><span class="p">,</span> <span class="p">{</span>
      <span class="s2">&quot;legacy&quot;</span><span class="p">:</span> <span class="n">true</span>
    <span class="p">}]</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="view">
<h3>View<a class="headerlink" href="#view" title="Permalink to this headline">¶</a></h3>
<p>Next, we will create our view: <code class="docutils literal notranslate"><span class="pre">message.view.js</span></code>. Create a folder
called <code class="docutils literal notranslate"><span class="pre">src</span></code>, and put <code class="docutils literal notranslate"><span class="pre">message.view.js</span></code> inside it.</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">examples/hello/src/message.view.js</span><a class="headerlink" href="#id3" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="k">class</span> <span class="nc">MessageView</span> <span class="p">{</span>
  <span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Views must implement the print method. To learn more, see the
<a class="reference internal" href="reference/view.html"><span class="doc">View</span></a> section.</p>
</div>
<p>Your project directory should now look like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>src/
  message.view.js
.babelrc
package-lock.json
package.json
</pre></div>
</div>
</div>
<div class="section" id="service">
<h3>Service<a class="headerlink" href="#service" title="Permalink to this headline">¶</a></h3>
<p>Now, create a service called <code class="docutils literal notranslate"><span class="pre">hello.service.js</span></code> where we will put our
program’s main logic (determining whether we are saying hello to the world or a
specific person).</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">examples/hello/src/hello.service.js</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span>import { Injectable } from &#39;commander-mvc&#39;

@Injectable()
export class HelloService {
  sayHello(name) {
    if (name) {
      return `Hello, ${name}!`
    }
    return &#39;Hello, world!&#39;
  }
}
</pre></div>
</td></tr></table></div>
</div>
<p>Note the <a class="reference internal" href="reference/injectable.html#Injectable" title="Injectable"><code class="xref js js-meth docutils literal notranslate"><span class="pre">Injectable()</span></code></a> decorator. This decorator is what tells commander-mvc
that our class should be available to our controllers via dependency
injection (DI) through the constructor.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Technically it is also available to views via DI, but I think the view should
just be concerned with printing simple messages. To learn more, see the
<a class="reference internal" href="reference/injectable.html"><span class="doc">Injectable</span></a> section.</p>
</div>
</div>
<div class="section" id="controller">
<h3>Controller<a class="headerlink" href="#controller" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">hello.controller.js</span></code> which we will be creating next will tie the view
and service together.</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">examples/hello/src/hello.controller.js</span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="p">{</span> <span class="n">Controller</span><span class="p">,</span> <span class="n">Action</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;commander-mvc&#39;</span>
<span class="kn">import</span> <span class="p">{</span> <span class="n">MessageView</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;./message.view&#39;</span>

<span class="nd">@Controller</span><span class="p">({</span>
  <span class="n">command</span><span class="p">:</span> <span class="s1">&#39;hello [name]&#39;</span>
<span class="p">})</span>
<span class="n">export</span> <span class="k">class</span> <span class="nc">HelloController</span> <span class="p">{</span>
  <span class="n">constructor</span><span class="p">({</span> <span class="n">helloService</span> <span class="p">})</span> <span class="p">{</span>
    <span class="n">this</span><span class="o">.</span><span class="n">helloService</span> <span class="o">=</span> <span class="n">helloService</span>
  <span class="p">}</span>

  <span class="n">takeArg</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">this</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
  <span class="p">}</span>

  <span class="nd">@Action</span><span class="p">({</span>
    <span class="n">view</span><span class="p">:</span> <span class="n">MessageView</span>
  <span class="p">})</span>
  <span class="n">sayHello</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">this</span><span class="o">.</span><span class="n">helloService</span><span class="o">.</span><span class="n">sayHello</span><span class="p">(</span><span class="n">this</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<p>The controller is decorated with <a class="reference internal" href="reference/controller.html#Controller" title="Controller"><code class="xref js js-meth docutils literal notranslate"><span class="pre">Controller()</span></code></a>, which tells commander-mvc to
route the <code class="docutils literal notranslate"><span class="pre">hello</span></code> command to our controller with an optional <code class="docutils literal notranslate"><span class="pre">name</span></code>
argument and no additional options. For more information about commands and
options, see <a class="reference external" href="https://www.github.com/tj/commander.js">commander.js</a>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">sayHello</span></code> method is decorated with
<a class="reference internal" href="reference/controller.html#Action" title="Action"><code class="xref js js-meth docutils literal notranslate"><span class="pre">Action()</span></code></a>, which tells commander-mvc that this method should be called to
handle those commands routed to our controller, and that it should render the
return value using the <code class="docutils literal notranslate"><span class="pre">MessageView</span></code> we created earlier.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can specify on the controller options for the command. Then on each
action, you can indicate when the controller should route the command to it
depending on which options with which the command was invoked. To learn more,
see the <a class="reference internal" href="reference/controller.html"><span class="doc">Controller and Action</span></a> section.</p>
</div>
</div>
<div class="section" id="pulling-it-together">
<h3>Pulling it together<a class="headerlink" href="#pulling-it-together" title="Permalink to this headline">¶</a></h3>
<p>The last file to create is <code class="docutils literal notranslate"><span class="pre">index.js</span></code> which will create the commander-mvc
context and run our CLI application.</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">examples/hello/src/index.js</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env node</span>

<span class="kn">import</span> <span class="p">{</span> <span class="n">initializeContext</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;commander-mvc&#39;</span>
<span class="kn">import</span> <span class="p">{</span> <span class="n">HelloController</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;./hello.controller&#39;</span>
<span class="kn">import</span> <span class="p">{</span> <span class="n">HelloService</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;./hello.service&#39;</span>
<span class="kn">import</span> <span class="nn">pjson</span> <span class="kn">from</span> <span class="s1">&#39;../package.json&#39;</span>

<span class="n">const</span> <span class="p">{</span> <span class="n">run</span> <span class="p">}</span> <span class="o">=</span> <span class="n">initializeContext</span><span class="p">({</span>
  <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;commander-mvc-hello&#39;</span><span class="p">,</span>
  <span class="n">version</span><span class="p">:</span> <span class="n">pjson</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
  <span class="n">providers</span><span class="p">:</span> <span class="p">[</span>
    <span class="n">HelloController</span><span class="p">,</span>
    <span class="n">HelloService</span>
  <span class="p">]</span>
<span class="p">})</span>

<span class="n">run</span><span class="p">(</span><span class="n">process</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Behind the scenes, the context brings all of the command and option
definitions together to construct the <cite>commander</cite> program definition. The
context also uses a default entry point which calls <cite>parse</cite> on the
<cite>commander</cite> instance when <cite>run</cite> is called. To learn more see the
<a class="reference internal" href="reference/context.html"><span class="doc">Context and EntryPoint</span></a> section.</p>
</div>
<p>Finally we can build and install our CLI. First <code class="docutils literal notranslate"><span class="pre">cd</span></code> into the root of the
project, and run the commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ npm run build
$ npm install -g
</pre></div>
</div>
<p>Now you can run it like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ commander-mvc-hello --version
<span class="m">1</span>.0.0

$ commander-mvc-hello --help
Usage: commander-mvc-hello <span class="o">[</span>options<span class="o">]</span> <span class="o">[</span>command<span class="o">]</span>

Options:

  -V, --version  output the version number
  -h, --help     output usage information

Commands:

  hello <span class="o">[</span>name<span class="o">]</span>

$ commander-mvc-hello hello
Hello, world!

$ commander-mvc-hello hello Martin
Hello, Martin!
</pre></div>
</div>
<p>Congratulations on your first commander-mvc application!</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="reference/index.html" class="btn btn-neutral float-right" title="Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="intro.html" class="btn btn-neutral" title="Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Martin Fracker.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0.2',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>